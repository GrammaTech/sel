<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This file documents the Software Evolution library

Copyright (C) 2014-2018 Eric Schulte and GrammaTech

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3
or any later version published by the Free Software Foundation;
with the Invariant Section being "GNU GENERAL PUBLIC LICENSE,"
A copy of the license is included in the section entitled
"GNU Free Documentation License." -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>SOFTWARE-EVOLUTION-LIBRARY/UTILITY/TASK (Software Evolution Library)</title>

<meta name="description" content="SOFTWARE-EVOLUTION-LIBRARY/UTILITY/TASK (Software Evolution Library)">
<meta name="keywords" content="SOFTWARE-EVOLUTION-LIBRARY/UTILITY/TASK (Software Evolution Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html" rel="start" title="Top">
<link href="Combined-Index.html" rel="index" title="Combined Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Software-Evolution-Library-Index.html" rel="up" title="Software Evolution Library Index">
<link href="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fVIEW.html" rel="next" title="SOFTWARE-EVOLUTION-LIBRARY/VIEW">
<link href="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fUTILITY_002fRANGE.html" rel="prev" title="SOFTWARE-EVOLUTION-LIBRARY/UTILITY/RANGE">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<span id="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fUTILITY_002fTASK"></span><div class="header">
<p>
Next: <a href="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fVIEW.html" accesskey="n" rel="next">SOFTWARE-EVOLUTION-LIBRARY/VIEW</a>, Previous: <a href="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fUTILITY_002fRANGE.html" accesskey="p" rel="prev">SOFTWARE-EVOLUTION-LIBRARY/UTILITY/RANGE</a>, Up: <a href="Software-Evolution-Library-Index.html" accesskey="u" rel="up">Software Evolution Library Index</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Combined-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fUTILITY_002fTASK-1"></span><h3 class="section">A.65 SOFTWARE-EVOLUTION-LIBRARY/UTILITY/TASK</h3>
<span id="Generic_002dFunction-sel_002futility_002ftask_003aprocess_002dtask"></span><dl>
<dt id="index-process_002dtask-_005bsel_002futility_002ftask_005d">Generic Function: <strong>process-task [sel/utility/task]</strong> <em>task runner</em></dt>
<dd><p>Process the object, including evaluate fitness, push new Jobs, and
 store interesting results
</p></dd></dl>
<span id="Method-sel_002futility_002ftask_003aprocess_002dtask-_0028_0028task-task_002ditem_0029-runner_0029"></span><dl>
<dt id="index-process_002dtask-_005bsel_002futility_002ftask_005d-1">Method: <strong>process-task [sel/utility/task]</strong> <em>(task task-item) runner</em></dt>
<dd><p>Evaluate the <code>task</code> saving the result in the runner.
</p></dd></dl>
<span id="Method-sel_002futility_002ftask_003aprocess_002dtask-_0028_0028task-some_002dtest_002dtask_0029-runner_0029"></span><dl>
<dt id="index-process_002dtask-_005bsel_002futility_002ftask_005d-2">Method: <strong>process-task [sel/utility/task]</strong> <em>(task some-test-task) runner</em></dt>
<dd><p>Process a single <code>task</code> by applying <code>some-task-pred</code> to the <code>object</code> in <code>task</code>.
<code>note:</code> Since &lsquo;task-save-result&rsquo; pushes results to a list, it&rsquo;s possible for up to
<code>n</code> results to be saved (where <code>n</code> is the number of running threads), so &lsquo;first&rsquo;
should be used to retrieve one result. Additionally, due to differences in
timing, it&rsquo;s possible that the result won&rsquo;t match that of &lsquo;some&rsquo;, since &lsquo;some&rsquo;
promises to find the first while &lsquo;some-task&rsquo; may return any element satisfying
&lsquo;some-task-pred&rsquo;.
</p></dd></dl>
<span id="Structure-sel_002futility_002ftask_003atask_002drunner"></span><dl>
<dt id="index-task_002drunner-_005bsel_002futility_002ftask_005d">Structure: <strong>task-runner [sel/utility/task]</strong></dt>
<dd><p>Class precedence list: <code>task-runner, structure-object, slot-object, t</code>
</p>
<p>The state needed to run multi-threaded tasks and associated jobs.
</p><ul>
<li> jobs:         stack of current jobs to execute
</li><li> workers:      list running worker threads
</li><li> results:      result objects collected by worker threads
</li><li> jobs-lock:    (internal) used to synchronize jobs stack
</li><li> results-lock: (internal) used to synchronnize results list
</li><li> workers-lock: (internal) used to synchronize worker list
</li><li> completed-jobs: number of jobs that have been executed and finished
</li><li> completed-tasks: number of tasks that have finished
</li></ul>
</dd></dl>
<span id="Class-sel_002futility_002ftask_003asome_002dtask"></span><dl>
<dt id="index-some_002dtask-_005bsel_002futility_002ftask_005d">Class: <strong>some-task [sel/utility/task]</strong></dt>
<dd><p>Class precedence list: <code>some-task, task, standard-object, slot-object, t</code>
</p>
<p>Slots:
</p><ul>
<li> <code>pred</code> &mdash; initarg: <code>:pred<!-- /@w --></code>; reader: <code><span class="nolinebreak">software-evolution-library/utility/task:some-task-pred</span><!-- /@w --></code>; writer: <code>(setf&nbsp;<span class="nolinebreak">software-evolution-library/utility/task:some-task-pred)</span><!-- /@w --></code>

<p>Predicate used by &lsquo;some&rsquo;.
</p></li></ul>

<p>Task for applying &lsquo;some&rsquo; in parallel.
The <code>object</code> field is a list on whose elements <code>some-task-pred</code> is applied.
</p></dd></dl>
<span id="Class-sel_002futility_002ftask_003asome_002dtest_002dtask"></span><dl>
<dt id="index-some_002dtest_002dtask-_005bsel_002futility_002ftask_005d">Class: <strong>some-test-task [sel/utility/task]</strong></dt>
<dd><p>Class precedence list: <code>some-test-task, task, standard-object, slot-object, t</code>
</p>
<p>Slots:
</p><ul>
<li> <code>pred</code> &mdash; initarg: <code>:pred<!-- /@w --></code>; reader: <code><span class="nolinebreak">software-evolution-library/utility/task:some-task-pred</span><!-- /@w --></code>; writer: <code>(setf&nbsp;<span class="nolinebreak">software-evolution-library/utility/task:some-task-pred)</span><!-- /@w --></code>

<p>Predicate used by &lsquo;some&rsquo;.
</p></li></ul>

<p>Task to apply predicate <code>some-task-pred</code> to <code>object</code>.
</p></dd></dl>
<span id="Class-sel_002futility_002ftask_003atask"></span><dl>
<dt id="index-task-_005bsel_002futility_002ftask_005d">Class: <strong>task [sel/utility/task]</strong></dt>
<dd><p>Class precedence list: <code>task, standard-object, slot-object, t</code>
</p>
<p>Base class for all task classes.
</p></dd></dl>
<span id="Class-sel_002futility_002ftask_003atask_002dmap"></span><dl>
<dt id="index-task_002dmap-_005bsel_002futility_002ftask_005d-1">Class: <strong>task-map [sel/utility/task]</strong></dt>
<dd><p>Class precedence list: <code>task-map, task, standard-object, slot-object, t</code>
</p>
<p>Task object used to map a function over a sequence using workers.
</p></dd></dl>
<span id="Variable-sel_002futility_002ftask_003a_002atask_002drunner_002a"></span><dl>
<dt id="index-_002atask_002drunner_002a-_005bsel_002futility_002ftask_005d">Variable: <strong>*task-runner* [sel/utility/task]</strong></dt>
<dd><p>Bind <code>*task-runner*</code> for worker threads
</p></dd></dl>
<span id="Macro-sel_002futility_002ftask_003arun_002das_002dtask"></span><dl>
<dt id="index-run_002das_002dtask-_005bsel_002futility_002ftask_005d">Macro: <strong>run-as-task [sel/utility/task]</strong> <em>(task runner) &amp;body body</em></dt>
<dd><p>Run the body code as a one-off task, which can access task and runner by
name. The supplied names may be any available symbols. Returns the <code>task-runner</code>
object.
</p></dd></dl>
<span id="Function-sel_002futility_002ftask_003arun_002dtask"></span><dl>
<dt id="index-run_002dtask-_005bsel_002futility_002ftask_005d">Function: <strong>run-task [sel/utility/task]</strong> <em>task &amp;optional num-workers</em></dt>
<dd><p>Create a <code>task-runner</code>, using the specified task as the first job.
</p></dd></dl>
<span id="Function-sel_002futility_002ftask_003arun_002dtask_002dand_002dblock"></span><dl>
<dt id="index-run_002dtask_002dand_002dblock-_005bsel_002futility_002ftask_005d">Function: <strong>run-task-and-block [sel/utility/task]</strong> <em>task &amp;optional num-workers</em></dt>
<dd><p>Create a <code>task-runner</code>, using the specified task as the first job,
blocking until completion
</p></dd></dl>
<span id="Function-sel_002futility_002ftask_003asimple_002dtask_002dasync_002drunner"></span><dl>
<dt id="index-simple_002dtask_002dasync_002drunner-_005bsel_002futility_002ftask_005d">Function: <strong>simple-task-async-runner [sel/utility/task]</strong> <em>num-threads func arguments</em></dt>
<dd><p>Run <code>function</code> with <code>arguments</code> as a &lsquo;simple-job&rsquo; &lsquo;task-job&rsquo;.
</p></dd></dl>
<span id="Generic_002dFunction-sel_002futility_002ftask_003atask_002djob"></span><dl>
<dt id="index-task_002djob-_005bsel_002futility_002ftask_005d">Generic Function: <strong>task-job [sel/utility/task]</strong> <em>task runner</em></dt>
<dd><p>Return a job for the *jobs* stack. This is a function which,
 when called, returns the next task in the series.
</p></dd></dl>
<span id="Method-sel_002futility_002ftask_003atask_002djob-_0028_0028task-task_002dmap_0029-runner_0029"></span><dl>
<dt id="index-task_002djob-_005bsel_002futility_002ftask_005d-1">Method: <strong>task-job [sel/utility/task]</strong> <em>(task task-map) runner</em></dt>
<dd><p>Return a function which will spawn jobs for all of TASK&rsquo;s objects.
</p></dd></dl>
<span id="Method-sel_002futility_002ftask_003atask_002djob-_0028_0028task-some_002dtask_0029-runner_0029"></span><dl>
<dt id="index-task_002djob-_005bsel_002futility_002ftask_005d-2">Method: <strong>task-job [sel/utility/task]</strong> <em>(task some-task) runner</em></dt>
<dd><p>Return the generating function for &lsquo;some-task&rsquo;.
Create new subtasks for each item in the list until either applying the
predicate <code>some-task-pred</code> in <code>task</code> succeeds or there are no more items in the
list.
</p></dd></dl>
<span id="Function-sel_002futility_002ftask_003atask_002dmap"></span><dl>
<dt id="index-task_002dmap-_005bsel_002futility_002ftask_005d">Function: <strong>task-map [sel/utility/task]</strong> <em>num-threads function objects</em></dt>
<dd><p>Run <code>function</code> over <code>objects</code> using a &lsquo;simple-job&rsquo; &lsquo;task-job&rsquo;.
</p></dd></dl>
<span id="Function-sel_002futility_002ftask_003atask_002dmap_002dasync"></span><dl>
<dt id="index-task_002dmap_002dasync-_005bsel_002futility_002ftask_005d">Function: <strong>task-map-async [sel/utility/task]</strong> <em>num-threads func objects</em></dt>
<dd><p>Run <code>func</code> over <code>objects</code> using a &lsquo;simple-job&rsquo; &lsquo;task-job&rsquo;.
</p></dd></dl>
<span id="Function-sel_002futility_002ftask_003atask_002drunner_002dcreate_002dworker"></span><dl>
<dt id="index-task_002drunner_002dcreate_002dworker-_005bsel_002futility_002ftask_005d">Function: <strong>task-runner-create-worker [sel/utility/task]</strong> <em>runner</em></dt>
<dd><p>Create a new worker thread.
</p></dd></dl>
<span id="Function-sel_002futility_002ftask_003atask_002drunner_002dremaining_002djobs"></span><dl>
<dt id="index-task_002drunner_002dremaining_002djobs-_005bsel_002futility_002ftask_005d">Function: <strong>task-runner-remaining-jobs [sel/utility/task]</strong> <em>runner</em></dt>
<dd><p>Returns the number of jobs remaining.
</p></dd></dl>
<span id="Function-sel_002futility_002ftask_003atask_002drunner_002dworkers_002dcount"></span><dl>
<dt id="index-task_002drunner_002dworkers_002dcount-_005bsel_002futility_002ftask_005d">Function: <strong>task-runner-workers-count [sel/utility/task]</strong> <em>runner</em></dt>
<dd><p>Returns the number of running threads.
</p></dd></dl>
<span id="Function-sel_002futility_002ftask_003atask_002dsave_002dresult"></span><dl>
<dt id="index-task_002dsave_002dresult-_005bsel_002futility_002ftask_005d">Function: <strong>task-save-result [sel/utility/task]</strong> <em>runner obj</em></dt>
<dd><p>Save a result object.
</p></dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fVIEW.html" accesskey="n" rel="next">SOFTWARE-EVOLUTION-LIBRARY/VIEW</a>, Previous: <a href="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fUTILITY_002fRANGE.html" accesskey="p" rel="prev">SOFTWARE-EVOLUTION-LIBRARY/UTILITY/RANGE</a>, Up: <a href="Software-Evolution-Library-Index.html" accesskey="u" rel="up">Software Evolution Library Index</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Combined-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
