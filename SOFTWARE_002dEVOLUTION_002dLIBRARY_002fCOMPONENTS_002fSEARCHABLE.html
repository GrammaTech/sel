<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This file documents the Software Evolution library

Copyright (C) 2014-2018 Eric Schulte and GrammaTech

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3
or any later version published by the Free Software Foundation;
with the Invariant Section being "GNU GENERAL PUBLIC LICENSE,"
A copy of the license is included in the section entitled
"GNU Free Documentation License." -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>SOFTWARE-EVOLUTION-LIBRARY/COMPONENTS/SEARCHABLE (Software Evolution Library)</title>

<meta name="description" content="SOFTWARE-EVOLUTION-LIBRARY/COMPONENTS/SEARCHABLE (Software Evolution Library)">
<meta name="keywords" content="SOFTWARE-EVOLUTION-LIBRARY/COMPONENTS/SEARCHABLE (Software Evolution Library)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html" rel="start" title="Top">
<link href="Combined-Index.html" rel="index" title="Combined Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Software-Evolution-Library-Index.html" rel="up" title="Software Evolution Library Index">
<link href="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fCOMPONENTS_002fSERAPI_002dIO.html" rel="next" title="SOFTWARE-EVOLUTION-LIBRARY/COMPONENTS/SERAPI-IO">
<link href="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fCOMPONENTS_002fPLINY_002dFODDER_002dDATABASE.html" rel="prev" title="SOFTWARE-EVOLUTION-LIBRARY/COMPONENTS/PLINY-FODDER-DATABASE">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<span id="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fCOMPONENTS_002fSEARCHABLE"></span><div class="header">
<p>
Next: <a href="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fCOMPONENTS_002fSERAPI_002dIO.html" accesskey="n" rel="next">SOFTWARE-EVOLUTION-LIBRARY/COMPONENTS/SERAPI-IO</a>, Previous: <a href="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fCOMPONENTS_002fPLINY_002dFODDER_002dDATABASE.html" accesskey="p" rel="prev">SOFTWARE-EVOLUTION-LIBRARY/COMPONENTS/PLINY-FODDER-DATABASE</a>, Up: <a href="Software-Evolution-Library-Index.html" accesskey="u" rel="up">Software Evolution Library Index</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Combined-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fCOMPONENTS_002fSEARCHABLE-1"></span><h3 class="section">A.14 SOFTWARE-EVOLUTION-LIBRARY/COMPONENTS/SEARCHABLE</h3>
<span id="Function-sel_002fcp_002fsearchable_003adiff_002dscalar"></span><dl>
<dt id="index-diff_002dscalar-_005bsel_002fcp_002fsearchable_005d">Function: <strong>diff-scalar [sel/cp/searchable]</strong> <em>original-seq modified-seq</em></dt>
<dd><p>Return an integer representing the diff size of two sequences
Sum <code>o</code> <code>+</code> |O <code>-</code> M| over each diff region.  <code>o</code> is the length of the
original diff region and <code>m</code> is the length of the modified diff
region.
</p></dd></dl>
<span id="Generic_002dFunction-sel_002fcp_002fsearchable_003afind_002dsnippets"></span><dl>
<dt id="index-find_002dsnippets-_005bsel_002fcp_002fsearchable_005d">Generic Function: <strong>find-snippets [sel/cp/searchable]</strong> <em>database &amp;key ast-class full-stmt decls limit</em></dt>
<dd><p>Find snippets in the fodder database <code>database</code>.
</p>
<ul>
<li> <code>ast-class</code>   AST class all snippets should match
</li><li> <code>full-stmt</code>   Limit results to full statements if non-nil.
</li><li> <code>decls</code>       Include decls in result if non-nil.
              Limit results to decls if the keyword <code>:only</code>.
</li><li> <code>limit</code>       Limit to <code>n</code> randomly drawn snippets
</li></ul>
</dd></dl>
<span id="Method-sel_002fcp_002fsearchable_003afind_002dsnippets-_0028_0028obj-pliny_002ddatabase_0029-_0026key-ast_002dclass-full_002dstmt--decls-_0028limit-_0028_002d-_0028expt-2-32_0029-1_0029_0029_0029"></span><dl>
<dt id="index-find_002dsnippets-_005bsel_002fcp_002fsearchable_005d-1">Method: <strong>find-snippets [sel/cp/searchable]</strong> <em>(obj pliny-database) &amp;key ast-class full-stmt decls (limit (- (expt 2 32) 1))</em></dt>
<dd><p><code>docfixme</code>
</p>
<ul>
<li> <code>obj</code> <code>docfixme</code>
</li><li> <code>ast-class</code> <code>docfixme</code>
</li><li> <code>full-stmt</code> <code>docfixme</code>
</li><li> <code>decls</code> <code>docfixme</code>
</li><li> <code>limit</code> <code>docfixme</code>
</li></ul>
</dd></dl>
<span id="Method-sel_002fcp_002fsearchable_003afind_002dsnippets-_0028_0028db-in_002dmemory_002ddatabase_0029-_0026key-ast_002dclass--full_002dstmt-decls-limit_0029"></span><dl>
<dt id="index-find_002dsnippets-_005bsel_002fcp_002fsearchable_005d-2">Method: <strong>find-snippets [sel/cp/searchable]</strong> <em>(db in-memory-database) &amp;key ast-class full-stmt decls limit</em></dt>
<dd><p>Find <code>limit</code> snippets stored in <code>db</code>, an in-memory database.
If <code>limit</code> is <code>nil</code> or <code>&gt;=</code> the number of snippets of the desired kind,
return a list of all of them.  Otherwise, return a random
subset of <code>limit</code> objects of the desired kind.
</p>
<p>If <code>ast-class</code> is not nil, it is the name of an <code>ast-class</code>;
consider only ASTs of that class.
</p>
<p>Otherwise, if <code>full-stmt</code> is true, consider only full statements.
</p>
<p>If <code>decls</code> is <code>:only</code>, consider only ASTs for which the <code>:is-decl</code>
property is true.
</p>
<p>Otherwise, consider all ASTs.
</p></dd></dl>
<span id="Class-sel_002fcp_002fsearchable_003asearchable"></span><dl>
<dt id="index-searchable-_005bsel_002fcp_002fsearchable_005d">Class: <strong>searchable [sel/cp/searchable]</strong></dt>
<dd><p>Class precedence list: <code>searchable, standard-object, slot-object, t</code>
</p>
<p><code>docfixme</code>
</p></dd></dl>
<span id="Generic_002dFunction-sel_002fcp_002fsearchable_003asimilar_002dsnippets"></span><dl>
<dt id="index-similar_002dsnippets-_005bsel_002fcp_002fsearchable_005d">Generic Function: <strong>similar-snippets [sel/cp/searchable]</strong> <em>searchable target &amp;key predicate metric key limit ast-class limit-considered filter</em></dt>
<dd><p>Return snippets from <code>searchable</code> similar to <code>target</code>
</p><ul>
<li> <code>searchable</code> <code>docfixme</code>
</li><li> <code>target</code> <code>docfixme</code>
</li><li> <code>:predicate</code> predicate for similarity metric
</li><li> <code>:metric</code> a function to generate a similarity metric
</li><li> <code>:key</code> a function called on each snippet before metric
</li><li> <code>:limit</code> only return the <code>many</code> most similar snippets
</li><li> <code>:ast-class</code> only consider snippets matching this AST class
</li><li> <code>:limit-considered</code>  limit search to <code>many-considered</code> random snippets
</li><li> <code>:filter</code> limit search to snippets for which <code>filter</code> returns false
</li></ul>
</dd></dl>
<span id="Method-sel_002fcp_002fsearchable_003asimilar_002dsnippets-_0028_0028obj-pliny_002ddatabase_0029-target-_0026key-predicate--metric-key-ast_002dclass-limit_002dconsidered--_0028limit-_0028_002d-_0028expt-2-32_0029-1_0029_0029-_0028filter-_0023_0027null_0029_0029"></span><dl>
<dt id="index-similar_002dsnippets-_005bsel_002fcp_002fsearchable_005d-1">Method: <strong>similar-snippets [sel/cp/searchable]</strong> <em>(obj pliny-database) target &amp;key predicate metric key ast-class limit-considered (limit (- (expt 2 32) 1)) (filter (function null))</em></dt>
<dd><p><code>docfixme</code>
</p>
<ul>
<li> <code>obj</code> <code>docfixme</code>
</li><li> <code>predicate</code> <code>docfixme</code>
</li><li> <code>metric</code> <code>docfixme</code>
</li><li> <code>key</code> <code>docfixme</code>
</li><li> <code>ast-class</code> <code>docfixme</code>
</li><li> <code>limit-considered</code> <code>docfixme</code>
</li><li> <code>limit</code> <code>docfixme</code>
</li><li> <code>filter</code> <code>docfixme</code>
</li></ul>
</dd></dl>
<span id="Method-sel_002fcp_002fsearchable_003asimilar_002dsnippets-_0028_0028db-searchable_0029-target-_0026key-key-ast_002dclass--limit-_0028predicate-_0023_0027_003c_0029--_0028metric-_0023_0027diff_002dscalar_0029-_0028filter-_0023_0027null_0029--_0028limit_002dconsidered-infinity_0029_0029"></span><dl>
<dt id="index-similar_002dsnippets-_005bsel_002fcp_002fsearchable_005d-2">Method: <strong>similar-snippets [sel/cp/searchable]</strong> <em>(db searchable) target &amp;key key ast-class limit (predicate (function &lt;)) (metric (function diff-scalar)) (filter (function null)) (limit-considered infinity)</em></dt>
<dd><p><code>docfixme</code>
</p></dd></dl>
<span id="Generic_002dFunction-sel_002fcp_002fsearchable_003aweighted_002dpick"></span><dl>
<dt id="index-weighted_002dpick-_005bsel_002fcp_002fsearchable_005d">Generic Function: <strong>weighted-pick [sel/cp/searchable]</strong> <em>searchable target weight &amp;key predicate metric key limit ast-class filter limit-considered</em></dt>
<dd><p>Perform a random pick weighted by weight from &lsquo;similar-snippets&rsquo;.
All other arguments are passed through to sorted snippets.
</p></dd></dl>
<span id="Method-sel_002fcp_002fsearchable_003aweighted_002dpick-_0028_0028obj-searchable_0029-target-weight-_0026key-key-limit--ast_002dclass-_0028predicate-_0023_0027_003c_0029--_0028metric-_0023_0027diff_002dscalar_0029-_0028filter-_0023_0027null_0029--_0028limit_002dconsidered-infinity_0029_0029"></span><dl>
<dt id="index-weighted_002dpick-_005bsel_002fcp_002fsearchable_005d-1">Method: <strong>weighted-pick [sel/cp/searchable]</strong> <em>(obj searchable) target weight &amp;key key limit ast-class (predicate (function &lt;)) (metric (function diff-scalar)) (filter (function null)) (limit-considered infinity)</em></dt>
<dd><p><code>docfixme</code>
</p></dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fCOMPONENTS_002fSERAPI_002dIO.html" accesskey="n" rel="next">SOFTWARE-EVOLUTION-LIBRARY/COMPONENTS/SERAPI-IO</a>, Previous: <a href="SOFTWARE_002dEVOLUTION_002dLIBRARY_002fCOMPONENTS_002fPLINY_002dFODDER_002dDATABASE.html" accesskey="p" rel="prev">SOFTWARE-EVOLUTION-LIBRARY/COMPONENTS/PLINY-FODDER-DATABASE</a>, Up: <a href="Software-Evolution-Library-Index.html" accesskey="u" rel="up">Software Evolution Library Index</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Combined-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
